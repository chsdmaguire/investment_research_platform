<template>
  <trading-vue :data="testChart" 
   title-txt="BTCUSD"
   :toolbar="true"
   >
 <!-- :width="width" 
  :height="height"
       
         
        :overlays="overlays"
        :color-back="colors.back"
        :color-grid="colors.grid"
        :color-text="colors.text"
        :color-title="colors.tvTitle" -->
        
        
    </trading-vue>
</template>

<script>
import TradingVue from 'trading-vue-js'
import { DataCube } from 'trading-vue-js' // DataCube helper
//import Data from '~/assets/data.json'              // Sample Data (BTC price in this example)
//import TestOverlay from '~/components/TestOverlay' // Custom overlay

export default {
    components: {TradingVue},
 //   props: ['width', 'height'], // Props generated by the TVJS engine
    data() {
        return {
            testChart: {},
            //chart: new DataCube(Data),    // Wrap data into DataCube & plug-in it into TVJS
            // overlays: [TestOverlay],
            // colors: {
            //     back: '#121827',
            //     grid: '#3e3e3e',
            //     text: '#35a776',
            //   	cross: '#dd64ef',
            //   	candle_dw: '#e54077',
            //   	wick_dw: '#e54077',
            //     tvTitle: '#888'
            //}
            testData: {
    "ohlcv": [
        [1555315200000, 5194.8, 5197.3, 5182.4, 5192, 129.53875463],
        [1555318800000, 5192, 5195.7, 5190, 5195.6, 90.52421995],
        [1555322400000, 5195.6, 5195.7, 5170, 5174.2, 233.89034995],
        [1555326000000, 5175.5, 5178.9, 5171.3, 5174.5, 73.96630195],
        [1555329600000, 5174.6, 5183.4, 5157.4, 5183.1, 259.80132483],
        [1555333200000, 5183.16065437, 5183.2, 5175, 5178.12739581, 82.05838075],
        [1555336800000, 5178.12739581, 5200, 5166.8, 5181, 510.38450785],
        [1555340400000, 5181, 5190.5, 5181, 5186.4815142, 146.54953747],
        [1555344000000, 5186.4815142, 5190, 5164.4, 5167.2, 200.30425083]
        
    ],
    "onchart": [{
        "name": "Keltner, 20",
        "type": "KC",
        "data": [
            [1555315200000, 5192.920460580382, 5170.852300221279, 5148.784139862176],
            [1555318800000, 5194.458976350876, 5173.209224009728, 5151.959471668581],
            [1555322400000, 5194.77584835194, 5173.30358362785, 5151.831318903759],
            [1555326000000, 5194.196179532131, 5173.417528044245, 5152.638876556359],
            [1555329600000, 5195.379387143999, 5174.339668230507, 5153.2999493170155],
            [1555333200000, 5195.098137158277, 5174.700404190459, 5154.302671222642],
            [1555336800000, 5196.338212015557, 5175.30036569613, 5154.2625193767035],
            [1555340400000, 5196.826190985667, 5176.365236982213, 5155.904282978759],
            [1555344000000, 5196.210263572903, 5175.492357269622, 5154.77445096634]
        ],
        "settings": {}
    }, {
        "name": "Line1",
        "type": "Segment",
        "data": [],
        "settings": {
            "p1": [1555732800000, 5405],
            "p2": [1555948800000, 5306],
            "lineWidth": 1,
            "legend": false
        }
    }, {
        "name": "Data sections",
        "type": "Splitters",
        "data": [
            [1555912800000],
            [1555318800000, "Pump", 0, null, 0.75],
            [1555329600000, "Pump more", 0, "#34a853", 0.75],
            [1556031600000, "Hindsight ðŸ¦†", 1, "#f4c20d", 0.75],
            [1555344000000, "20/20 ðŸ˜Ž", 1, "#777", 0.65]
        ],
        "settings": {
            "legend": false
        }
    }],
    "offchart": [{
        "name": "RSI, 20",
        "type": "RSI",
        "data": [
            [1555315200000, 59.79775300640897],
            [1555318800000, 60.46131186910198],
            [1555322400000, 54.80141442765696],
            [1555326000000, 54.863764965198015],
            [1555329600000, 56.66753968854932],
            [1555333200000, 55.32193901720738],
            [1555336800000, 55.957882212241195],
            [1555340400000, 57.18207762280022],
            [1555344000000, 51.846081794190866]
        ],
        "settings": {
            "upper": 70,
            "lower": 30,
            "backColor": "#9b9ba316",
            "bandColor": "#666"
        }
    }, {
        "name": "DI",
        "type": "Splines",
        "data": [
            [1555315200000, 87.84164559565305, 38.726843817993796],
            [1555318800000, 81.56724233882069, 35.9606406881371],
            [1555322400000, 75.74101074319064, 53.39202349612731],
            [1555326000000, 70.33093854724845, 49.57830753211822],
            [1555329600000, 65.30730007958785, 59.93699985125318],
            [1555333200000, 60.64249293104586, 55.655785576163666],
            [1555336800000, 73.11088629311419, 51.68037232072341],
            [1555340400000, 67.88868012932032, 47.98891715495745],
            [1555344000000, 63.03948869151173, 61.16113735817514]
        ],
        "settings": {}
    }]
            },
           // chart: new DataCube(data),
        }
    },
    methods: {
      async fixChart() {
             this.testChart = new DataCube(this.testData)
        }
       
    },

    mounted() {
        this.fixChart();
    }
}
</script>

<style>

</style>